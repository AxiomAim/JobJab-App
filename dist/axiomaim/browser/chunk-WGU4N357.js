import{a as A}from"./chunk-ACTZOGXT.js";import{k as m}from"./chunk-AUKJIIL4.js";import{d as l,g as d,m as $}from"./chunk-SVUIAZ5I.js";import{Da as n,Ia as c,J as p,N as x,Nb as v,Ob as _,Wb as g,Xb as y,ca as s,g as o,gc as b,ia as r,jc as C,kc as O,mb as w,sa as f,wb as u}from"./chunk-Q34RPHHW.js";var L=(()=>{class t{constructor(){this._auto$=new o(!0),this._mode$=new o("indeterminate"),this._progress$=new o(0),this._show$=new o(!1),this._urlMap=new Map}get auto$(){return this._auto$.asObservable()}get mode$(){return this._mode$.asObservable()}get progress$(){return this._progress$.asObservable()}get show$(){return this._show$.asObservable()}show(){this._show$.next(!0)}hide(){this._show$.next(!1)}setAutoMode(e){this._auto$.next(e)}setMode(e){this._mode$.next(e)}setProgress(e){if(e<0||e>100){console.error("Progress value must be between 0 and 100!");return}this._progress$.next(e)}_setLoadingStatus(e,i){if(!i){console.error("The request URL must be provided!");return}e===!0?(this._urlMap.set(i,e),this._show$.next(!0)):e===!1&&this._urlMap.has(i)&&this._urlMap.delete(i),this._urlMap.size===0&&this._show$.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var z=(t,h)=>{let e=r(L),i=!1;return e.auto$.pipe(p(1)).subscribe(a=>{i=a}),i?(e._setLoadingStatus(!0,t.url),h(t).pipe(x(()=>{e._setLoadingStatus(!1,t.url)}))):h(t)};var E=(()=>{class t{constructor(){this._componentRegistry=new Map}registerComponent(e,i){this._componentRegistry.set(e,i)}deregisterComponent(e){this._componentRegistry.delete(e)}getComponent(e){return this._componentRegistry.get(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var S=["*"],te=(()=>{class t{constructor(){this._animationBuilder=r($),this._elementRef=r(c),this._renderer2=r(w),this._axiomaimDrawerService=r(E),this._axiomaimUtilsService=r(A),this.fixed=!1,this.mode="side",this.name=this._axiomaimUtilsService.randomId(),this.opened=!1,this.position="left",this.transparentOverlay=!1,this.fixedChanged=new n,this.modeChanged=new n,this.openedChanged=new n,this.positionChanged=new n,this._animationsEnabled=!1,this._handleOverlayClick=()=>this.close(),this._hovered=!1}get classList(){return{"axiomaim-drawer-animations-enabled":this._animationsEnabled,"axiomaim-drawer-fixed":this.fixed,"axiomaim-drawer-hover":this._hovered,[`axiomaim-drawer-mode-${this.mode}`]:!0,"axiomaim-drawer-opened":this.opened,[`axiomaim-drawer-position-${this.position}`]:!0}}get styleList(){return{visibility:this.opened?"visible":"hidden"}}_onMouseenter(){this._enableAnimations(),this._hovered=!0}_onMouseleave(){this._enableAnimations(),this._hovered=!1}ngOnChanges(e){if("fixed"in e&&(this.fixed=m(e.fixed.currentValue),this.fixedChanged.next(this.fixed)),"mode"in e){let i=e.mode.previousValue,a=e.mode.currentValue;this._disableAnimations(),i==="over"&&a==="side"&&this._hideOverlay(),i==="side"&&a==="over"&&this.opened&&this._showOverlay(),this.modeChanged.next(a),setTimeout(()=>{this._enableAnimations()},500)}if("opened"in e){let i=m(e.opened.currentValue);this._toggleOpened(i)}"position"in e&&this.positionChanged.next(this.position),"transparentOverlay"in e&&(this.transparentOverlay=m(e.transparentOverlay.currentValue))}ngOnInit(){this._axiomaimDrawerService.registerComponent(this.name,this)}ngOnDestroy(){this._player&&this._player.finish(),this._axiomaimDrawerService.deregisterComponent(this.name)}open(){this.opened||this._toggleOpened(!0)}close(){this.opened&&this._toggleOpened(!1)}toggle(){this.opened?this.close():this.open()}_enableAnimations(){this._animationsEnabled||(this._animationsEnabled=!0)}_disableAnimations(){this._animationsEnabled&&(this._animationsEnabled=!1)}_showOverlay(){this._overlay=this._renderer2.createElement("div"),this._overlay.classList.add("axiomaim-drawer-overlay"),this.fixed&&this._overlay.classList.add("axiomaim-drawer-overlay-fixed"),this.transparentOverlay&&this._overlay.classList.add("axiomaim-drawer-overlay-transparent"),this._renderer2.appendChild(this._elementRef.nativeElement.parentElement,this._overlay),this._player=this._animationBuilder.build([d({opacity:0}),l("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",d({opacity:1}))]).create(this._overlay),this._player.play(),this._overlay.addEventListener("click",this._handleOverlayClick)}_hideOverlay(){this._overlay&&(this._player=this._animationBuilder.build([l("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",d({opacity:0}))]).create(this._overlay),this._player.play(),this._player.onDone(()=>{this._overlay&&(this._overlay.removeEventListener("click",this._handleOverlayClick),this._overlay.parentNode.removeChild(this._overlay),this._overlay=null)}))}_toggleOpened(e){this.opened=e,this._enableAnimations(),this.mode==="over"&&(e?this._showOverlay():this._hideOverlay()),this.openedChanged.next(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=u({type:t,selectors:[["axiomaim-drawer"]],hostVars:4,hostBindings:function(i,a){i&1&&b("mouseenter",function(){return a._onMouseenter()})("mouseleave",function(){return a._onMouseleave()}),i&2&&(v(a.styleList),_(a.classList))},inputs:{fixed:"fixed",mode:"mode",name:"name",opened:"opened",position:"position",transparentOverlay:"transparentOverlay"},outputs:{fixedChanged:"fixedChanged",modeChanged:"modeChanged",openedChanged:"openedChanged",positionChanged:"positionChanged"},exportAs:["axiomaimDrawer"],features:[f],ngContentSelectors:S,decls:2,vars:0,consts:[[1,"axiomaim-drawer-content"]],template:function(i,a){i&1&&(C(),g(0,"div",0),O(1),y())},styles:[`:root{--axiomaim-drawer-width: 320px}axiomaim-drawer{position:relative;display:flex;flex-direction:column;flex:1 1 auto;width:var(--axiomaim-drawer-width);min-width:var(--axiomaim-drawer-width);max-width:var(--axiomaim-drawer-width);z-index:300;box-shadow:0 2px 8px #00000059;--tw-bg-opacity: 1;background-color:rgba(var(--axiomaim-bg-card-rgb),var(--tw-bg-opacity))}axiomaim-drawer.axiomaim-drawer-animations-enabled{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:visibility,margin-left,margin-right,transform,width,max-width,min-width}axiomaim-drawer.axiomaim-drawer-animations-enabled .axiomaim-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:width,max-width,min-width}axiomaim-drawer.axiomaim-drawer-mode-over{position:absolute;top:0;bottom:0}axiomaim-drawer.axiomaim-drawer-mode-over.axiomaim-drawer-fixed{position:fixed}axiomaim-drawer.axiomaim-drawer-position-left.axiomaim-drawer-mode-side{margin-left:calc(var(--axiomaim-drawer-width) * -1)}axiomaim-drawer.axiomaim-drawer-position-left.axiomaim-drawer-mode-side.axiomaim-drawer-opened{margin-left:0}axiomaim-drawer.axiomaim-drawer-position-left.axiomaim-drawer-mode-over{left:0;transform:translate3d(-100%,0,0)}axiomaim-drawer.axiomaim-drawer-position-left.axiomaim-drawer-mode-over.axiomaim-drawer-opened{transform:translateZ(0)}axiomaim-drawer.axiomaim-drawer-position-left .axiomaim-drawer-content{left:0}axiomaim-drawer.axiomaim-drawer-position-right.axiomaim-drawer-mode-side{margin-right:calc(var(--axiomaim-drawer-width) * -1)}axiomaim-drawer.axiomaim-drawer-position-right.axiomaim-drawer-mode-side.axiomaim-drawer-opened{margin-right:0}axiomaim-drawer.axiomaim-drawer-position-right.axiomaim-drawer-mode-over{right:0;transform:translate3d(100%,0,0)}axiomaim-drawer.axiomaim-drawer-position-right.axiomaim-drawer-mode-over.axiomaim-drawer-opened{transform:translateZ(0)}axiomaim-drawer.axiomaim-drawer-position-right .axiomaim-drawer-content{right:0}axiomaim-drawer .axiomaim-drawer-content{position:absolute;display:flex;flex:1 1 auto;top:0;bottom:0;width:100%;height:100%;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--axiomaim-bg-card-rgb),var(--tw-bg-opacity))}.axiomaim-drawer-overlay{position:absolute;inset:0;z-index:299;opacity:1;background-color:#0009}.axiomaim-drawer-overlay.axiomaim-drawer-overlay-fixed{position:fixed}.axiomaim-drawer-overlay.axiomaim-drawer-overlay-transparent{background-color:transparent}
`],encapsulation:2})}}return t})();export{L as a,z as b,te as c};
